<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FWEA-I - Professional Audio Cleaning</title>
    <meta name="description" content="Clean profanity from audio files in 100+ languages using AI">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéµ</text></svg>">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #15151f 100%);
            min-height: 100vh;
            color: #E5E7EB;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            padding: 2rem 0;
            text-align: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .logo {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 16px;
            font-size: 2rem;
        }

        .brand-text h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: #00f5ff;
            margin-bottom: 0.5rem;
        }

        .brand-text p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .tagline {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 2rem 0 1rem 0;
            background: linear-gradient(45deg, #00f5ff, #00ff88);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            text-align: center;
            margin-bottom: 2rem;
        }

        .features-banner {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .feature-badge {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .feature-badge:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        /* Upload Section */
        .upload-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .upload-area {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 3rem 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .upload-area:hover,
        .upload-area.drag-over {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
            transform: scale(1.02);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.7;
        }

        .upload-text {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .upload-hint {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 1rem;
        }

        .supported-formats {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        .format-tag {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .choose-file-btn {
            background: #00f5ff;
            color: #1a1a2e;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .choose-file-btn:hover {
            background: #00d4ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 245, 255, 0.4);
        }

        .file-input {
            display: none;
        }

        /* Processing Section */
        .processing-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .processing-section.active {
            display: block;
            animation: slideInUp 0.5s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .processing-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
        }

        .processing-status {
            text-align: center;
            color: #00f5ff;
            margin-bottom: 2rem;
        }

        .progress-container {
            margin: 2rem 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f5ff, #00ff88);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin: 2rem 0;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            opacity: 0.5;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
        }

        .step.active {
            opacity: 1;
            color: #00f5ff;
        }

        .step.completed {
            opacity: 0.8;
            color: #00ff88;
        }

        .step-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            margin-bottom: 0.5rem;
        }

        .step.active .step-icon {
            background: #00f5ff;
            color: #1a1a2e;
            animation: pulse 1.5s infinite;
        }

        .step.completed .step-icon {
            background: #00ff88;
            color: #1a1a2e;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 245, 255, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 245, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 245, 255, 0); }
        }

        /* Results Section */
        .results-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .results-section.active {
            display: block;
            animation: slideInUp 0.5s ease-out;
        }

        .results-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
        }

        .audio-player {
            background: linear-gradient(135deg, #00f5ff 0%, #00ff88 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .player-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin: 1rem 0;
        }

        .progress-display {
            color: #1a1a2e;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .play-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #1a1a2e;
            color: #00f5ff;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .play-btn:hover {
            transform: scale(1.1);
        }

        .processing-complete {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: center;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            border: none;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: #00f5ff;
            color: #1a1a2e;
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        /* Pricing Section */
        .pricing-section {
            margin: 4rem 0;
        }

        .pricing-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .pricing-header h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .pricing-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            text-align: center;
        }

        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .pricing-card.featured {
            border: 2px solid #00f5ff;
            transform: scale(1.05);
        }

        .pricing-card.featured::before {
            content: "Most Popular";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: #00f5ff;
            color: #1a1a2e;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .plan-name {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .plan-price {
            font-size: 2.5rem;
            font-weight: 800;
            color: #00f5ff;
            margin-bottom: 0.5rem;
        }

        .plan-period {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 1.5rem;
        }

        .plan-features {
            list-style: none;
            margin: 1.5rem 0;
            text-align: left;
        }

        .plan-features li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .plan-features li::before {
            content: "‚úì";
            color: #00ff88;
            font-weight: bold;
            width: 20px;
            text-align: center;
        }

        .plan-btn {
            width: 100%;
            background: #00f5ff;
            color: #1a1a2e;
            border: none;
            padding: 1rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .plan-btn:hover {
            background: #00d4ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 245, 255, 0.4);
        }

        /* Language Banner */
        .language-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 48px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            overflow: hidden;
            z-index: 1000;
        }

        .language-scroll {
            display: flex;
            animation: scroll 30s linear infinite;
            height: 100%;
            align-items: center;
        }

        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .language-tag {
            padding: 0.5rem 1rem;
            margin: 0 0.5rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .language-tag:nth-child(4n+1) { background: linear-gradient(45deg, #ff6b6b, #ee5a24); }
        .language-tag:nth-child(4n+2) { background: linear-gradient(45deg, #4ecdc4, #44a08d); }
        .language-tag:nth-child(4n+3) { background: linear-gradient(45deg, #45b7d1, #96c93d); }
        .language-tag:nth-child(4n+4) { background: linear-gradient(45deg, #f093fb, #f5576c); }

        /* Footer */
        footer {
            margin-top: 2rem;
            padding: 0.5rem 0 4px 0; /* minimal gap above language banner */
            border-top: 1px solid rgba(255, 255, 255, 0.08);
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            text-align: center;
        }

        .footer-text {
            opacity: 0.8;
            text-align: center;
        }

        .gradient-text {
            background: linear-gradient(90deg, #00f5ff, #00ff88);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
        }

        .admin-access {
            background: rgba(0, 0, 0, 0.5);
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-access h4 {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            color: #00f5ff;
        }

        .admin-form {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .admin-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            padding: 0.5rem;
            color: white;
            font-size: 0.8rem;
            width: 120px;
        }

        .admin-btn {
            background: #00f5ff;
            color: #1a1a2e;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            font-weight: 600;
        }

        .admin-status {
            font-size: 0.7rem;
            margin-top: 0.5rem;
            opacity: 0.7;
        }

        /* Alerts */
        .alert {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
            border-left: 4px solid;
            animation: slideInRight 0.3s ease-out;
            z-index: 10000;
            max-width: 400px;
        }

        .alert-success {
            background: rgba(76, 175, 80, 0.1);
            border-color: #4CAF50;
            color: #4CAF50;
        }

        .alert-warning {
            background: rgba(255, 152, 0, 0.1);
            border-color: #ff9800;
            color: #ff9800;
        }

        .alert-error {
            background: rgba(244, 67, 54, 0.1);
            border-color: #f44336;
            color: #f44336;
        }

        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Utility Classes */
        .hidden { display: none; }
        .text-center { text-align: center; }

        /* Responsive */
        @media (max-width: 768px) {
            .tagline { font-size: 2rem; }
            .subtitle { font-size: 1rem; }
            .features-banner { gap: 1rem; }
            .feature-badge { padding: 0.6rem 1rem; font-size: 0.8rem; }
            .upload-area { padding: 2rem 1rem; min-height: 150px; }
            .upload-icon { font-size: 2rem; }
            .progress-steps { flex-direction: column; gap: 1rem; }
            .step { justify-content: center; }
            .pricing-grid { grid-template-columns: 1fr; }
            .pricing-card.featured { transform: none; }
            .footer-content { grid-template-columns: 1fr; text-align: center; }
            .admin-form { justify-content: center; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo-section">
                <div class="brand-text">
                    <h1>FWEA-I</h1>
                    <p>Omnilingual Clean Version Editor</p>
                </div>
            </div>
            
            <nav style="display: flex; justify-content: center; gap: 2rem; margin: 2rem 0;">
                <a href="#features" style="color: white; text-decoration: none; opacity: 0.8; hover: opacity: 1;">Features</a>
                <a href="#pricing" style="color: white; text-decoration: none; opacity: 0.8;">Pricing</a>
                <a href="#languages" style="color: white; text-decoration: none; opacity: 0.8;">Languages</a>
                <a href="#support" style="color: white; text-decoration: none; opacity: 0.8;">Support</a>
            </nav>
            
            <div class="tagline">Professional Audio Cleaning<br>In 100+ Languages</div>
            <p class="subtitle">The world's most advanced omnilingual profanity removal tool. Perfect for DJs, artists, and content creators who demand pristine audio quality.</p>
            
            <div class="features-banner">
                <div class="feature-badge">üåç 100+ Languages Supported</div>
                <div class="feature-badge">ü§ñ AI-Powered Precision</div>
                <div class="feature-badge">‚ö° Lightning Fast Processing</div>
                <div class="feature-badge">üîí Studio-Grade Security</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <div class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <h2 style="font-size: 1.8rem; font-weight: 700; margin-bottom: 1rem;">üéµ Drag & Drop Your Audio</h2>
                <p style="opacity: 0.8; margin-bottom: 1.5rem;">Upload your track and experience the future of audio cleaning</p>
                
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">üìÅ</div>
                    <div class="upload-text">Drag files here or click to browse</div>
                    <div class="upload-hint">Maximum file size varies by plan</div>
                    <button type="button" class="choose-file-btn" onclick="openFilePicker(event)">
                          üìÇ Choose Audio File
                    </button>
                    <div class="supported-formats">
                        <span class="format-tag">MP3</span>
                        <span class="format-tag">WAV</span>
                        <span class="format-tag">FLAC</span>
                        <span class="format-tag">M4A</span>
                        <span class="format-tag">AAC</span>
                        <span class="format-tag">OGG</span>
                    </div>
                </div>
                
                <input type="file" id="fileInput" class="file-input" accept="audio/*">
                
                <!-- File Info -->
                <div id="fileInfo" class="hidden" style="margin-top: 1rem;">
                    <div style="background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(0, 255, 136, 0.3); border-radius: 12px; padding: 1.5rem;">
                        <strong>üéµ 6.0MB file uploaded! Get full clean version for just $4.99</strong><br>
                        <strong>File:</strong> <span id="fileName"></span><br>
                        <strong>Size:</strong> <span id="fileSize"></span><br>
                        <strong>Type:</strong> <span id="fileType"></span>
                    </div>
                    <button type="button" class="btn btn-primary" onclick="processAudio()" style="width: 100%; margin-top: 1rem;">
                        üöÄ Start Cleaning Process
                    </button>
                </div>
            </section>

            <!-- Processing Section -->
            <section class="processing-section" id="processingSection">
                <h2 class="processing-title">Processing Your Audio</h2>
                <p id="processingStatus" class="processing-status">Analyzing audio waveform and structure...</p>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div id="progressText" style="text-align: center; margin-top: 0.5rem;">15% ‚Ä¢ Estimated time: 2 seconds</div>
                </div>

                <div class="progress-steps">
                    <div class="step active" id="step1">
                        <div class="step-icon">üîç</div>
                        <span>Analysis</span>
                        <small>Audio waveform</small>
                    </div>
                    <div class="step" id="step2">
                        <div class="step-icon">üåç</div>
                        <span>Language<br>Detection</span>
                        <small>Multi-language AI</small>
                    </div>
                    <div class="step" id="step3">
                        <div class="step-icon">üéØ</div>
                        <span>Content<br>Filtering</span>
                        <small>Profanity removal</small>
                    </div>
                    <div class="step" id="step4">
                        <div class="step-icon">üéµ</div>
                        <span>Audio<br>Reconstruction</span>
                        <small>High-quality output</small>
                    </div>
                    <div class="step" id="step5">
                        <div class="step-icon">‚ú®</div>
                        <span>Quality<br>Enhancement</span>
                        <small>Final optimization</small>
                    </div>
                </div>

                <div id="detectedLanguages" class="hidden">
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 1rem; border-radius: 8px;">
                        <p><strong>üîç Detecting Languages:</strong></p>
                        <div id="languagesList" style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 0.5rem;"></div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Results Section -->
        <section class="results-section" id="resultsSection">
            <h2 class="results-title">üéâ Your Clean Audio is Ready!</h2>
            
            <div class="audio-player">
                <div style="margin-bottom: 1rem;">
                    <div style="color: #1a1a2e; font-weight: 600; font-size: 1.2rem; margin-bottom: 0.5rem;">üéµ Clean Audio Preview</div>
                    <div style="color: #1a1a2e; opacity: 0.8;">0:30</div>
                </div>
                
                <div class="player-controls">
                    <button class="play-btn" id="playBtn">‚ñ∂</button>
                    <div class="progress-display">0:00 / 0:30</div>
                    <div style="width: 100px; height: 4px; background: rgba(26, 26, 46, 0.3); border-radius: 2px; margin: 0 1rem;">
                        <div style="width: 30%; height: 100%; background: #1a1a2e; border-radius: 2px;"></div>
                    </div>
                </div>
                
                <audio id="previewPlayer" style="display: none;" controls>
                    Your browser does not support the audio element.
                </audio>
            </div>

            <div class="processing-complete">
                <h3>‚úÖ Processing Complete!</h3>
                <p>1 inappropriate words removed ‚Ä¢ 3 languages detected ‚Ä¢ Quality enhanced with AI</p>
            </div>

            <div class="action-buttons">
                <button class="btn btn-secondary">üì• Download Preview</button>
                <button class="btn btn-primary" onclick="showPricing()">üíé Get Full Version</button>
            </div>
        </section>

        <!-- Pricing Section -->
        <section class="pricing-section" id="pricingSection">
            <div class="pricing-header">
                <h2>Choose Your Plan</h2>
                <p style="opacity: 0.8; font-size: 1.1rem;">Professional audio cleaning for every need and budget</p>
            </div>

            <div class="pricing-grid">
                <!-- Single Track -->
                <div class="pricing-card" data-plan="single_track">
                    <h3 class="plan-name">Single Track</h3>
                    <div class="plan-price">$4.99</div>
                    <div class="plan-period">per track</div>
                    <ul class="plan-features">
                        <li>1 audio track cleaning</li>
                        <li>All 100+ languages</li>
                        <li>45-second preview</li>
                        <li>HD audio quality</li>
                        <li>Instant download</li>
                    </ul>
                    <button class="plan-btn" onclick="selectPlan('single_track', 'price_1S4NnmJ2Iq1764pCjA9xMnrn')">
                        Get Single Track
                    </button>
                </div>

                <!-- DJ Pro -->
                <div class="pricing-card featured" data-plan="dj_pro">
                    <h3 class="plan-name">DJ Pro</h3>
                    <div class="plan-price">$29.99</div>
                    <div class="plan-period">per month</div>
                    <ul class="plan-features">
                        <li>Unlimited track cleaning</li>
                        <li>All 100+ languages</li>
                        <li>45-second previews</li>
                        <li>Priority processing</li>
                        <li>Batch processing</li>
                        <li>Professional support</li>
                    </ul>
                    <button class="plan-btn" onclick="selectPlan('dj_pro', 'price_1S4NpzJ2Iq1764pCcZISuhug')">
                        Start DJ Pro
                    </button>
                </div>

                <!-- Studio Elite -->
                <div class="pricing-card" data-plan="studio_elite">
                    <h3 class="plan-name">Studio Elite</h3>
                    <div class="plan-price">$99.99</div>
                    <div class="plan-period">per month</div>
                    <ul class="plan-features">
                        <li>Everything in DJ Pro</li>
                        <li>60-second previews</li>
                        <li>Studio-grade quality</li>
                        <li>API access</li>
                        <li>Custom AI training</li>
                        <li>Dedicated support</li>
                        <li>Commercial licensing</li>
                    </ul>
                    <button class="plan-btn" onclick="selectPlan('studio_elite', 'price_1S4Nr3J2Iq1764pCzHY4zIWr')">
                        Start Studio Elite
                    </button>
                </div>

                <!-- Day Pass -->
                <div class="pricing-card" data-plan="day_pass">
                    <h3 class="plan-name">Day Pass</h3>
                    <div class="plan-price">$9.99</div>
                    <div class="plan-period">24 hours</div>
                    <ul class="plan-features">
                        <li>Unlimited tracks (24h)</li>
                        <li>All 100+ languages</li>
                        <li>45-second previews</li>
                        <li>Batch processing</li>
                        <li>HD audio quality</li>
                    </ul>
                    <button class="plan-btn" onclick="selectPlan('day_pass', 'price_1S4NsTJ2Iq1764pCCbru0Aao')">
                        Get Day Pass
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-text">
                    <p class="gradient-text" style="margin-bottom: 1rem; font-weight: 600;">
                        ¬© 2025 Fxckin With Everything Around - Intelligence. All rights reserved.
                    </p>
                    <p style="opacity: 0.6; font-size: 0.9rem;">
                        Professional audio cleaning technology ‚Ä¢ No refunds policy ‚Ä¢ Terms apply
                    </p>
                </div>
                
                <div class="admin-access">
                    <h4>Admin Access</h4>
                    <div class="admin-form">
                        <input type="password" id="adminToken" class="admin-input" placeholder="Access token">
                        <button class="admin-btn" onclick="adminLogin()">Login</button>
                    </div>
                    <div id="adminStatus" class="admin-status">Enter token to access admin features</div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Language Banner -->
    <div class="language-banner">
        <div class="language-scroll">
            <span class="language-tag">English</span>
            <span class="language-tag">Spanish</span>
            <span class="language-tag">French</span>
            <span class="language-tag">German</span>
            <span class="language-tag">Italian</span>
            <span class="language-tag">Portuguese</span>
            <span class="language-tag">Russian</span>
            <span class="language-tag">Chinese</span>
            <span class="language-tag">Japanese</span>
            <span class="language-tag">Korean</span>
            <span class="language-tag">Arabic</span>
            <span class="language-tag">Haitian Creole</span>
            <span class="language-tag">Hindi</span>
            <span class="language-tag">Bengali</span>
            <span class="language-tag">Turkish</span>
            <span class="language-tag">Vietnamese</span>
            <span class="language-tag">Thai</span>
            <span class="language-tag">Dutch</span>
            <span class="language-tag">Swedish</span>
            <span class="language-tag">Norwegian</span>
            <span class="language-tag">Danish</span>
            <span class="language-tag">Finnish</span>
            <span class="language-tag">Polish</span>
            <span class="language-tag">Czech</span>
            <span class="language-tag">Hungarian</span>
            <span class="language-tag">Romanian</span>
            <span class="language-tag">Bulgarian</span>
            <span class="language-tag">Croatian</span>
            <span class="language-tag">Serbian</span>
            <span class="language-tag">Greek</span>
            <span class="language-tag">Hebrew</span>
            <span class="language-tag">Persian</span>
            <span class="language-tag">Urdu</span>
            <span class="language-tag">Tamil</span>
            <span class="language-tag">Telugu</span>
            <span class="language-tag">Kannada</span>
            <span class="language-tag">Malayalam</span>
            <span class="language-tag">Gujarati</span>
            <span class="language-tag">Punjabi</span>
            <span class="language-tag">Marathi</span>
            <span class="language-tag">Indonesian</span>
            <span class="language-tag">Malay</span>
            <span class="language-tag">Filipino</span>
            <span class="language-tag">Swahili</span>
            <span class="language-tag">Yoruba</span>
            <span class="language-tag">Igbo</span>
            <span class="language-tag">Hausa</span>
            <span class="language-tag">Amharic</span>
            <span class="language-tag">Zulu</span>
            <span class="language-tag">Xhosa</span>
            <span class="language-tag">Afrikaans</span>
        </div>
    </div>


<!-- ‚Ä¶ your HTML above ‚Ä¶ -->

<!-- Put this BEFORE any script that reads CONFIG -->
<script>
  window.FWEA_API_BASE = "https://omnibackend2.fweago-flavaz.workers.dev";
</script>

<script>
  const CONFIG = {
    API_BASE: window.FWEA_API_BASE || "https://omnibackend2.fweago-flavaz.workers.dev",
    SUPPORTED_FORMATS: ['audio/mpeg','audio/wav','audio/flac','audio/m4a','audio/aac','audio/ogg'],
    MAX_FILE_SIZE: { free: 50*1024*1024, single_track: 100*1024*1024, day_pass: 100*1024*1024, dj_pro: 200*1024*1024, studio_elite: 500*1024*1024 },
    PREVIEW_DURATION: { free: 30, single_track: 45, day_pass: 45, dj_pro: 45, studio_elite: 60 }
  };
  try { console.info("FWEA API_BASE:", new URL(CONFIG.API_BASE).href); } catch(e){ console.error("Bad API_BASE:", CONFIG.API_BASE); }
</script>


<!-- Your main app code MUST be inside a script tag -->
<script>


  // --- Global state ---
  let currentFile = null;
  let currentPlan = 'free';
  let processingResult = null;
  let userFingerprint = generateFingerprint();
  let isAdmin = false;

  // --- Init ---
  document.addEventListener('DOMContentLoaded', () => {
    initializeApp();
  });

  function initializeApp() {
    setupEventListeners();
    checkAdminStatus();

    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('success') === 'true') {
      handlePaymentSuccess(urlParams.get('session_id'));
    } else if (urlParams.get('canceled') === 'true') {
      showAlert('Payment was cancelled. You can try again anytime.', 'warning');
    }
  }

  // --- File picking & DnD ---
  function openFilePicker(e) {
    if (e && e.stopPropagation) e.stopPropagation();      // stop bubbling into uploadArea
    const fileInput = document.getElementById('fileInput');
    fileInput.value = '';                                  // ensure change fires if same file is re-picked
    fileInput.click();
  }

  function setupEventListeners() {
    const uploadArea = document.getElementById('uploadArea');
    const fileInput  = document.getElementById('fileInput');

    uploadArea.addEventListener('dragover', handleDragOver);
    uploadArea.addEventListener('dragleave', handleDragLeave);
    uploadArea.addEventListener('drop', handleDrop);

    // Click anywhere on the area EXCEPT the choose button
    uploadArea.addEventListener('click', (e) => {
      if (e.target.closest('.choose-file-btn')) return;    // avoid double dialogs
      fileInput.value = '';
      fileInput.click();
    });

    fileInput.addEventListener('change', handleFileSelect);

    // Prevent default drag behaviors across the doc
    ['dragenter','dragover','dragleave','drop'].forEach(evt =>
      document.addEventListener(evt, (e) => { e.preventDefault(); e.stopPropagation(); }, false)
    );
  }

  function handleDragOver(e) {
    e.preventDefault();
    document.getElementById('uploadArea').classList.add('drag-over');
  }

  function handleDragLeave(e) {
    e.preventDefault();
    document.getElementById('uploadArea').classList.remove('drag-over');
  }

  function handleDrop(e) {
    e.preventDefault();
    document.getElementById('uploadArea').classList.remove('drag-over');
    const files = e.dataTransfer?.files || [];
    if (files.length > 0) handleFileSelect({ target: { files } });
  }

  function handleFileSelect(e) {
    const file = e?.target?.files?.[0];
    if (!file) return;

    if (!isValidAudioFile(file)) {
      showAlert('Please select a valid audio file (MP3, WAV, FLAC, M4A, AAC, OGG)', 'error');
      return;
    }

    const maxSize = CONFIG.MAX_FILE_SIZE[currentPlan];
    if (file.size > maxSize) {
      showAlert(`File too large. Maximum size for ${currentPlan} plan: ${formatFileSize(maxSize)}`, 'warning');
      if (currentPlan === 'free') showPricing();
      return;
    }

    currentFile = file;
    displayFileInfo(file);
  }

  function isValidAudioFile(file) {
    return CONFIG.SUPPORTED_FORMATS.includes(file.type) || /\.(mp3|wav|flac|m4a|aac|ogg)$/i.test(file.name || '');
  }

  function displayFileInfo(file) {
    document.getElementById('fileName').textContent = file.name;
    document.getElementById('fileSize').textContent = formatFileSize(file.size);
    document.getElementById('fileType').textContent = file.type || 'Unknown';
    document.getElementById('fileInfo').classList.remove('hidden');
  }

  function formatFileSize(bytes) {
    if (!bytes) return '0 Bytes';
    const k = 1024, sizes = ['Bytes','KB','MB','GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return `${(bytes / Math.pow(k, i)).toFixed(2)} ${sizes[i]}`;
  }

  // --- Processing ---
  async function processAudio() {
    if (!currentFile) return;

    document.getElementById('processingSection').classList.add('active');
    document.querySelector('.upload-section').style.opacity = '0.5';

    try {
      const formData = new FormData();
      formData.append('audio', currentFile);
      formData.append('fingerprint', userFingerprint);
      formData.append('planType', currentPlan);

      startProcessingAnimation();

      const headers = { 'Accept': 'application/json' };
      if (isAdmin) headers['X-FWEA-Admin'] = localStorage.getItem('adminToken') || '';

      const resp = await fetch(`${CONFIG.API_BASE}/process-audio`, { method: 'POST', body: formData, headers });
      if (!resp.ok) throw new Error(`HTTP ${resp.status}: ${resp.statusText}`);

      const result = await resp.json();
      if (result.success) {
        processingResult = result;
        showResults(result);
      } else {
        throw new Error(result.error || 'Processing failed');
      }
    } catch (err) {
      console.error('Processing error:', err);
      showAlert('Processing failed: ' + err.message, 'error');
      resetProcessing();
    }
  }

  function startProcessingAnimation() {
    const steps = ['step1','step2','step3','step4','step5'];
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');
    const statusEl = document.getElementById('processingStatus');

    let currentStep = 0, progress = 0;
    const stepMessages = [
      'Analyzing audio characteristics and format...',
      'Detecting languages using AI models...',
      'Scanning for inappropriate content...',
      'Reconstructing clean audio...',
      'Optimizing quality and applying enhancements...'
    ];

    const interval = setInterval(() => {
      progress = Math.min(95, progress + Math.random() * 15);
      progressFill.style.width = progress + '%';
      progressText.textContent = `${Math.round(progress)}% ‚Ä¢ Processing...`;

      if (currentStep < steps.length && progress > (currentStep + 1) * 18) {
        if (currentStep > 0) {
          const prev = document.getElementById(steps[currentStep - 1]);
          prev.classList.remove('active'); prev.classList.add('completed');
        }
        const step = document.getElementById(steps[currentStep]);
        step.classList.add('active');
        statusEl.textContent = stepMessages[currentStep];

        if (currentStep === 1) {
          setTimeout(() => {
            document.getElementById('detectedLanguages').classList.remove('hidden');
            simulateLanguageDetection();
          }, 1000);
        }
        currentStep++;
      }

      if (progress >= 95) { clearInterval(interval); completeProcessing(); }
    }, 300);
  }

  function simulateLanguageDetection() {
    const languagesList = document.getElementById('languagesList');
    const languages = ['English', 'Spanish', 'French'];
    languagesList.innerHTML = '';
    languages.forEach((lang, i) => {
      setTimeout(() => {
        const badge = document.createElement('span');
        badge.className = 'format-tag';
        badge.textContent = lang;
        badge.style.animation = 'slideInRight 0.3s ease-out';
        languagesList.appendChild(badge);
      }, i * 500);
    });
  }

  function completeProcessing() {
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');
    const statusEl = document.getElementById('processingStatus');

    ['step1','step2','step3','step4','step5'].forEach(id => {
      const s = document.getElementById(id);
      s.classList.remove('active'); s.classList.add('completed');
    });

    progressFill.style.width = '100%';
    progressText.textContent = '100% ‚Ä¢ Processing complete!';
    statusEl.textContent = 'Audio cleaning completed successfully!';

    setTimeout(() => document.getElementById('processingSection').classList.remove('active'), 1500);
  }

  function showResults(result) {
    if (result.previewUrl) {
      const player = document.getElementById('previewPlayer');
      player.src = result.previewUrl;
      player.style.display = 'block';
    }
    document.getElementById('resultsSection').classList.add('active');
    trackEvent('processing_complete', {
      planType: currentPlan,
      fileSize: currentFile?.size,
      languages: result.languages,
      profanityFound: result.profanityFound
    });
  }

  function showPricing() {
    document.getElementById('pricingSection').scrollIntoView({ behavior: 'smooth' });
  }

  // --- Payments (unchanged) ---
  async function selectPlan(planType, priceId) {
    if (!currentFile) {
      showAlert('Please upload an audio file first', 'warning');
      document.getElementById('uploadArea').scrollIntoView({ behavior: 'smooth' });
      return;
    }
    try {
      const resp = await fetch(`${CONFIG.API_BASE}/create-payment`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ priceId, type: planType, fileName: currentFile.name, fingerprint: userFingerprint })
      });
      if (!resp.ok) throw new Error(`HTTP ${resp.status}: ${resp.statusText}`);
      const result = await resp.json();
      if (result.success) {
        trackEvent('payment_initiated', { planType, priceId, sessionId: result.sessionId });
        window.location.href = result.url;
      } else {
        throw new Error(result.error || 'Payment creation failed');
      }
    } catch (err) {
      console.error('Payment error:', err);
      showAlert('Payment setup failed: ' + err.message, 'error');
    }
  }

  async function handlePaymentSuccess(sessionId) {
    if (!sessionId) return;
    try {
      const resp = await fetch(`${CONFIG.API_BASE}/activate-access`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ fingerprint: userFingerprint, sessionId })
      });
      const result = await resp.json();
      if (result.success) {
        showAlert('Payment successful! You now have access to the full version.', 'success');
        const downloadUrl = `${CONFIG.API_BASE}/download-page?session_id=${sessionId}`;
        setTimeout(() => { window.location.href = downloadUrl; }, 2000);
      } else {
        showAlert('Payment was successful, but activation failed. Please contact support.', 'warning');
      }
    } catch {
      showAlert('Payment successful, but activation failed. Please contact support.', 'warning');
    }
  }

  // --- Misc / utils ---
  function resetProcessing() {
    document.getElementById('processingSection').classList.remove('active');
    document.getElementById('resultsSection').classList.remove('active');
    document.querySelector('.upload-section').style.opacity = '1';
  }

  function showAlert(message, type = 'success') {
    const el = document.createElement('div');
    el.className = `alert alert-${type}`;
    el.textContent = message;
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 5000);
    el.addEventListener('click', () => el.remove());
  }

  function generateFingerprint() {
    let fp = localStorage.getItem('fwea_fingerprint');
    if (!fp) {
      fp = Date.now().toString(36) + Math.random().toString(36).slice(2);
      localStorage.setItem('fwea_fingerprint', fp);
    }
    return fp;
  }

  async function trackEvent(event, data = {}) {
    try {
      await fetch(`${CONFIG.API_BASE}/track-event`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ event, fingerprint: userFingerprint, data, timestamp: Date.now(), url: window.location.href, userAgent: navigator.userAgent })
      });
    } catch { /* non-blocking */ }
  }

  function checkAdminStatus() {
    const tok = localStorage.getItem('adminToken');
    if (tok) {
      isAdmin = true;
      document.getElementById('adminStatus').textContent = 'Admin mode active';
      document.getElementById('adminToken').value = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
    }
  }

  async function adminLogin() {
    const token = document.getElementById('adminToken').value;
    if (!token) return;
    try {
      const resp = await fetch(`${CONFIG.API_BASE}/debug-env`, { headers: { 'X-FWEA-Admin': token } });
      if (resp.ok) {
        localStorage.setItem('adminToken', token);
        isAdmin = true;
        document.getElementById('adminStatus').textContent = 'Admin login successful';
        document.getElementById('adminToken').value = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
        showAlert('Admin access granted', 'success');
      } else {
        throw new Error('Invalid token');
      }
    } catch {
      document.getElementById('adminStatus').textContent = 'Invalid token';
      showAlert('Admin login failed', 'error');
    }
  }

  // Track initial page load
  trackEvent('page_load', { timestamp: Date.now(), userAgent: navigator.userAgent, referrer: document.referrer });
</script>
</body>
</html>
